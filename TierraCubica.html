<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cubic Earth and Moon</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: radial-gradient(circle, #000020, #000000);
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r146/three.min.js"></script>
</head>
<body>
    <script>
        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(5, 3, 5).normalize();
        scene.add(directionalLight);

        // Textures
        const earthTexture = new THREE.TextureLoader().load('https://example.com/cubic-earth-texture.jpg');
        const moonTexture = new THREE.TextureLoader().load('https://example.com/cubic-moon-texture.jpg');
        const cityLightsTexture = new THREE.TextureLoader().load('https://example.com/city-lights-texture.png');

        // Earth geometry
        const earthGeometry = new THREE.BoxGeometry(1, 1, 1);
        const earthMaterial = new THREE.MeshStandardMaterial({ map: earthTexture });
        const earth = new THREE.Mesh(earthGeometry, earthMaterial);
        scene.add(earth);

        // City lights overlay
        const cityLightsMaterial = new THREE.MeshBasicMaterial({ map: cityLightsTexture, transparent: true });
        const cityLights = new THREE.Mesh(earthGeometry, cityLightsMaterial);
        earth.add(cityLights);

        // Moon geometry
        const moonGeometry = new THREE.BoxGeometry(0.3, 0.3, 0.3);
        const moonMaterial = new THREE.MeshStandardMaterial({ map: moonTexture });
        const moon = new THREE.Mesh(moonGeometry, moonMaterial);
        scene.add(moon);

        // Orbit geometry
        const orbitGeometry = new THREE.RingGeometry(1.5, 1.51, 64);
        const orbitMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff, side: THREE.DoubleSide });
        const orbit = new THREE.Mesh(orbitGeometry, orbitMaterial);
        orbit.rotation.x = Math.PI / 2;
        scene.add(orbit);

        // Animation variables
        let earthRotationSpeed = 0.01;
        let moonRotationSpeed = 0.02;
        let moonOrbitSpeed = 0.005;

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            // Rotate Earth and Moon
            earth.rotation.y += earthRotationSpeed;
            moon.rotation.y += moonRotationSpeed;

            // Moon orbit
            const time = Date.now() * 0.001;
            moon.position.x = Math.cos(time * moonOrbitSpeed) * 1.5;
            moon.position.z = Math.sin(time * moonOrbitSpeed) * 1.5;

            renderer.render(scene, camera);
        }

        // Camera position
        camera.position.z = 5;

        // Start animation
        animate();

        // Resize handling
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
